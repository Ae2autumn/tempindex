<!DOCTYPE html>
<html lang="zh-CN">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta name="description" content="技术博客分享前端开发、设计模式和生活心得">
   <title>技术博客</title>
   <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style"
                                                                                                                           onload="this.onload=null;this.rel='stylesheet'">
   <noscript>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
   </noscript>
   <style>
      :root {
         --primary-color: #e74c3c;
         --dark-bg: #121212;
         --dark-card: #1e1e1e;
         --light-bg: #f5f7fa;
         --light-primary: #e74c3c;
         --transition-time: 0.3s;
      }

      * {
         margin: 0;
         padding: 0;
         box-sizing: border-box;
         font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Ubuntu, Cantarell, sans-serif;
      }

      html,
      body {
         height: 100%;
         background-color: var(--dark-bg);
         color: #ffffff;
         line-height: 1.6;
         transition: background-color var(--transition-time), color var(--transition-time);
      }

      .container {
         max-width: 1200px;
         margin: 0 auto;
         padding: 20px;
         height: 100%;
      }

      .mobile-layout {
         display: flex;
         flex-direction: column;
         height: 100%;
         overflow: hidden;
      }

      .mobile-top-section {
         background-color: var(--dark-card);
         border-radius: 10px;
         margin-bottom: 5px;
         box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
         transition: all var(--transition-time) ease;
         flex-shrink: 0;
      }

      .mobile-top-section.expanded {
         padding: 20px 15px 15px;
      }

      .mobile-top-section.collapsed {
         padding: 10px 15px;
         min-height: 60px;
      }

      .mobile-top-bar {
         display: flex;
         align-items: center;
         justify-content: space-between;
         margin-bottom: 15px;
         min-height: 40px;
      }

      .avatar {
         width: 40px;
         height: 40px;
         border-radius: 50%;
         background-color: var(--primary-color);
         display: flex;
         align-items: center;
         justify-content: center;
         color: white;
         font-size: 18px;
         flex-shrink: 0;
      }

      .mobile-title-container {
         flex-grow: 1;
         text-align: center;
         cursor: pointer;
         padding: 0 15px;
         display: flex;
         align-items: center;
         justify-content: center;
         min-height: 40px;
      }

      .mobile-title {
         color: white;
         font-size: 18px;
         font-weight: 600;
         transition: all var(--transition-time) ease;
      }

      .menu-btn {
         width: 36px;
         height: 36px;
         border-radius: 50%;
         background-color: var(--primary-color);
         display: flex;
         align-items: center;
         justify-content: center;
         color: white;
         font-size: 18px;
         cursor: pointer;
         flex-shrink: 0;
         border: none;
         outline: none;
      }

      .mobile-top-card {
         background-color: var(--dark-card);
         border-radius: 8px;
         padding: 20px;
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
         transition: all var(--transition-time) ease;
         max-height: 500px;
         overflow: hidden;
         color: white;
      }

      .mobile-top-section.collapsed .mobile-top-card {
         max-height: 0;
         padding: 0;
         margin: 0;
         opacity: 0;
      }

      .floating-menu {
         position: absolute;
         top: 70px;
         right: 15px;
         background-color: var(--dark-card);
         border-radius: 8px;
         padding: 15px;
         box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
         z-index: 100;
         display: none;
         width: calc(100% - 30px);
         max-width: 300px;
         color: white;
      }

      .floating-menu.active {
         display: block;
      }

      .close-menu {
         position: absolute;
         top: 10px;
         right: 10px;
         color: var(--primary-color);
         font-size: 20px;
         cursor: pointer;
         background: none;
         border: none;
      }

      .menu-items {
         margin-top: 30px;
      }

      .menu-item {
         padding: 10px 0;
         border-bottom: 1px solid #333;
         font-size: 16px;
         cursor: pointer;
         color: white;
      }

      .menu-item:hover {
         color: var(--primary-color);
      }

      .article-list-section {
         flex: 1 1 0;
         min-height: 0;
         display: flex;
         flex-direction: column;
         overflow: hidden;
         will-change: transform;
         contain: layout style;
      }

      .mobile-cards-container {
         flex: 1;
         display: flex;
         flex-direction: column;
         min-height: 0;
         overflow: hidden;
      }

      .mobile-cards-wrapper {
         flex: 1;
         display: flex;
         gap: 15px;
         padding: 10px 5px 15px;
         overflow-x: auto;
         overflow-y: hidden;
         -ms-overflow-style: none;
         scrollbar-width: none;
         will-change: transform;
         backface-visibility: hidden;
         -webkit-backface-visibility: hidden;
         transform: translateZ(0);
         -webkit-transform: translateZ(0);
         contain: layout style paint;
      }

      .mobile-cards-wrapper::-webkit-scrollbar {
         display: none;
      }

      .rectangle-card {
         min-width: 79px;
         height: 100%;
         border-radius: 10px;
         cursor: pointer;
         transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
         position: relative;
         overflow: hidden;
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
         flex-shrink: 0;
         will-change: transform, min-width;
         contain: layout style;
         background: linear-gradient(135deg, var(--primary-color), #c0392b);
      }

      .rectangle-card.active {
         min-width: 265px;
         background: linear-gradient(135deg, #c0392b, #a93226);
      }

      .vertical-title {
         position: absolute;
         top: 20px;
         left: 20px;
         color: white;
         font-size: 18px;
         font-weight: bold;
         writing-mode: vertical-rl;
         text-orientation: mixed;
         transform: rotate(0deg);
         transition: opacity var(--transition-time) ease;
         text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
      }

      .rectangle-card.active .vertical-title {
         opacity: 0;
      }

      /* 重新设计文章卡片布局结构 */
      .card-content-expanded {
         position: absolute;
         top: 0;
         left: 0;
         width: 265px;
         /*展开宽度控制*/
         height: 100%;
         padding: 15px;
         color: white;
         opacity: 0;
         transition: opacity var(--transition-time) ease 0.2s;
         display: flex;
         flex-direction: column;
         overflow: hidden;
      }

      .rectangle-card.active .card-content-expanded {
         opacity: 1;
      }

      /* 标签容器 - 固定位置 */
      .card-tags {
         display: flex;
         gap: 8px;
         margin-bottom: 10px;
         flex-shrink: 0;
      }

      .card-tag {
         background-color: rgba(255, 255, 255, 0.1);
         color: white;
         padding: 4px 8px;
         border-radius: 4px;
         font-size: 12px;
         font-weight: 500;
      }

      /* 标题容器 - 固定位置 */
      .card-title-container {
         flex-shrink: 0;
         margin-bottom: 10px;
      }

      .card-title-container h2 {
         font-size: 22px;
         font-weight: 600;
         color: white;
         margin: 0;
      }

      /* 内容容器 - 可滚动区域 */
      .card-content-main {
         flex: 1;
         overflow-y: auto;
         scrollbar-width: none;
         -ms-overflow-style: none;
         margin-bottom: 10px;
         padding-right: 5px;
      }

      .card-content-main::-webkit-scrollbar {
         display: none;
      }

      .card-content-main p {
         font-size: 14px;
         line-height: 1.5;
         margin-bottom: 10px;
         opacity: 0.9;
         color: white;
      }

      /* 按钮容器 - 固定位置 */
      .card-footer {
         flex-shrink: 0;
         padding-top: 10px;
         display: flex;
         justify-content: flex-end;
         border-top: 1px solid rgba(255, 255, 255, 0.1);
      }

      .mobile-card-btn {
         background-color: rgba(255, 255, 255, 0.2);
         color: white;
         border: none;
         padding: 8px 16px;
         border-radius: 5px;
         cursor: pointer;
         font-weight: 500;
         font-size: 14px;
         transition: background-color var(--transition-time);
      }

      .mobile-card-btn:hover {
         background-color: rgba(255, 255, 255, 0.3);
      }

      /* 特殊卡片样式 */
      .special-card {
         background: linear-gradient(135deg, var(--primary-color), #c0392b);
         color: white;
         border-radius: 10px;
         padding: 15px;
         box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
         cursor: pointer;
         transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
         overflow: hidden;
         flex-shrink: 0;
         will-change: transform;
         contain: layout style;
      }

      .special-card-header {
         display: flex;
         justify-content: space-between;
         align-items: center;
         margin-bottom: 0;
         padding: 0;
         cursor: pointer;
         user-select: none;
         -webkit-user-select: none;
         -moz-user-select: none;
         -ms-user-select: none;
      }

      .special-card-title {
         font-size: 18px;
         font-weight: 600;
         color: white;
         margin: 0;
         pointer-events: none;
      }

      .special-card-icon {
         transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
         pointer-events: none;
      }

      .special-card.expanded .special-card-icon {
         transform: rotate(180deg);
      }

      .special-card-content {
         max-height: 0;
         opacity: 0;
         overflow: hidden;
         transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
         will-change: max-height, opacity, transform;
         contain: layout style;
         padding-top: 0;
         margin-top: 0;
      }

      .special-card.expanded .special-card-content {
         max-height: 320px;
         opacity: 1;
         margin-top: 10px;
         padding-top: 10px;
         border-top: 1px solid rgba(255, 255, 255, 0.1);
      }

      .special-cards-container {
         display: flex;
         flex-direction: column;
         gap: 15px;
         height: 185px;
         overflow-y: auto;
         scrollbar-width: none;
         -ms-overflow-style: none;
         will-change: transform;
         padding-right: 5px;
      }

      .special-cards-container::-webkit-scrollbar {
         display: none;
      }

      /* 特殊卡片子项 - 固定高度布局 */
      .special-card-item {
         background-color: rgba(255, 255, 255, 0.1);
         border-radius: 8px;
         padding: 15px;
         box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
         display: flex;
         flex-direction: column;
         flex-shrink: 0;
         height: 180px;
         overflow: hidden;
         cursor: auto;
      }

      .special-card-item-content {
         display: flex;
         flex-direction: column;
         height: 100%;
         overflow: hidden;
      }

      /* 特殊卡片的标签容器 */
      .special-card-item .card-tags {
         margin-bottom: 8px;
      }

      /* 特殊卡片的标题容器 */
      .special-card-item h4 {
         font-size: 16px;
         font-weight: 600;
         margin-bottom: 8px;
         color: white;
         flex-shrink: 0;
      }

      /* 特殊卡片的内容容器 */
      .special-card-item-content-main {
         flex: 1;
         overflow-y: auto;
         scrollbar-width: none;
         -ms-overflow-style: none;
         margin-bottom: 8px;
         padding-right: 5px;
      }

      .special-card-item-content-main::-webkit-scrollbar {
         display: none;
      }

      .special-card-item-content-main p {
         font-size: 14px;
         line-height: 1.5;
         margin-bottom: 8px;
         opacity: 0.9;
         color: white;
      }

      /* 特殊卡片的按钮容器 */
      .special-card-item-footer {
         flex-shrink: 0;
         padding-top: 8px;
         display: flex;
         justify-content: flex-end;
         border-top: 1px solid rgba(255, 255, 255, 0.1);
      }

      .special-card-btn {
         background-color: rgba(255, 255, 255, 0.2);
         color: white;
         border: none;
         padding: 8px 16px;
         border-radius: 5px;
         cursor: pointer;
         font-weight: 500;
         font-size: 14px;
         transition: background-color var(--transition-time);
      }

      .special-card-btn:hover {
         background-color: rgba(255, 255, 255, 0.3);
      }

      .light-mode {
         background-color: var(--light-bg);
         color: white;
      }

      .light-mode .mobile-top-section {
         background-color: var(--light-primary);
      }

      .light-mode .mobile-top-card {
         background-color: white;
         color: white;
      }

      .light-mode .mobile-top-card h2 {
         color: white;
      }

      .light-mode .floating-menu {
         background-color: white;
         color: white;
      }

      .light-mode .menu-item {
         border-bottom-color: #eee;
         color: white;
      }

      .light-mode .menu-item:hover {
         color: var(--light-primary);
      }

      .light-mode .rectangle-card:nth-child(5n+1) {
         background: linear-gradient(135deg, #ffb6c1, #ff69b4);
      }

      .light-mode .rectangle-card:nth-child(5n+1).active {
         background: linear-gradient(135deg, #ff69b4, #ff1493);
      }

      .light-mode .rectangle-card:nth-child(5n+2) {
         background: linear-gradient(135deg, #98fb98, #90ee90);
      }

      .light-mode .rectangle-card:nth-child(5n+2).active {
         background: linear-gradient(135deg, #90ee90, #7cfc00);
      }

      .light-mode .rectangle-card:nth-child(5n+3) {
         background: linear-gradient(135deg, #add8e6, #87ceeb);
      }

      .light-mode .rectangle-card:nth-child(5n+3).active {
         background: linear-gradient(135deg, #87ceeb, #6495ed);
      }

      .light-mode .rectangle-card:nth-child(5n+4) {
         background: linear-gradient(135deg, #fffacd, #f0e68c);
      }

      .light-mode .rectangle-card:nth-child(5n+4).active {
         background: linear-gradient(135deg, #f0e68c, #ffd700);
      }

      .light-mode .rectangle-card:nth-child(5n) {
         background: linear-gradient(135deg, #d3d3d3, #c0c0c0);
      }

      .light-mode .rectangle-card:nth-child(5n).active {
         background: linear-gradient(135deg, #c0c0c0, #a9a9a9);
      }

      .light-mode .special-card {
         background: linear-gradient(135deg, #e6e6fa, #d8bfd8);
      }

      .light-mode .special-card.expanded {
         background: linear-gradient(135deg, #d8bfd8, #dda0dd);
      }

      .light-mode .special-card-item {
         background-color: rgba(255, 255, 255, 0.2);
      }

      .light-mode .special-card-item h4 {
         color: white;
      }

      .light-mode .card-tag {
         background-color: rgba(0, 0, 0, 0.1);
         color: white;
      }

      .light-mode .vertical-title {
         color: white;
         text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
      }

      .light-mode .rectangle-card.active .card-content-expanded h2 {
         color: white;
      }

      .light-mode .special-card-title {
         color: white;
      }
   </style>
</head>

<body class="dark-mode">
   <div class="container">
      <div class="mobile-layout">
         <div class="mobile-top-section expanded" id="mobileTopSection">
            <div class="mobile-top-bar">
               <div class="avatar" role="img" aria-label="用户头像">
                  <i class="fas fa-user" aria-hidden="true"></i>
               </div>
               <div class="mobile-title-container" id="titleToggle" tabindex="0" role="button" aria-label="折叠/展开标题区域">
                  <div class="mobile-title">技术博客</div>
               </div>
               <button class="menu-btn" id="menuBtn" aria-label="打开菜单" aria-expanded="false"
                                                                                                                                       aria-controls="floatingMenu">
                  <i class="fas fa-bars" aria-hidden="true"></i>
               </button>
            </div>

            <div class="mobile-top-card">
               <h2>前端技术分享</h2>
               <p>分享前端开发经验、设计模式和生活心得，专注用户体验和性能优化</p>
               <div style="display: flex; justify-content: space-between; margin-top: 15px;">
                  <div>
                     <span style="font-size: 14px; color: #aaa;">文章数: 128</span>
                     <span style="margin-left: 15px; font-size: 14px; color: #aaa;">阅读量: 2.4万</span>
                  </div>
                  <button
                                                                                                                                          style="background-color: var(--primary-color); color: white; border: none; padding: 8px 15px; border-radius: 5px; font-size: 14px; cursor: pointer;">
                     关注
                  </button>
               </div>
            </div>

            <div class="floating-menu" id="floatingMenu" role="menu" aria-hidden="true">
               <button class="close-menu" id="closeMenu" aria-label="关闭菜单">
                  <i class="fas fa-times" aria-hidden="true"></i>
               </button>
               <div class="menu-items">
                  <div class="menu-item" role="menuitem" tabindex="0">首页</div>
                  <div class="menu-item" role="menuitem" tabindex="0">文章</div>
                  <div class="menu-item" role="menuitem" tabindex="0">分类</div>
                  <div class="menu-item" role="menuitem" tabindex="0">关于</div>
                  <div class="menu-item" role="menuitem" tabindex="0">联系</div>
                  <div class="menu-item" id="darkModeToggle" role="menuitem" tabindex="0">
                     <i class="fas fa-sun" aria-hidden="true" style="margin-right: 10px;"></i>切换亮色模式
                  </div>
               </div>
            </div>
         </div>

         <div class="article-list-section" id="articleListSection">
            <div class="mobile-cards-container">
               <div class="mobile-cards-wrapper" id="mobileCardsWrapper">
                  <!-- 文章卡片1 - 使用新的布局结构 -->
                  <article class="rectangle-card" id="card1" role="article" aria-labelledby="card1Title">
                     <div class="vertical-title">React</div>
                     <div class="card-content-expanded">
                        <div class="card-tags">
                           <span class="card-tag">前端</span>
                           <span class="card-tag">框架</span>
                           <span class="card-tag">性能</span>
                        </div>
                        <div class="card-title-container">
                           <h2 id="card1Title">React 18 新特性深度解析</h2>
                        </div>
                        <div class="card-content-main">
                           <p>React 18 带来了并发渲染、自动批处理、Suspense 等新特性，显著提升了应用性能。本文将深入探讨这些新功能的实现原理和应用场景。</p>
                           <p>通过学习本文，您将掌握如何利用并发特性优化大型应用的渲染性能，以及如何正确使用新的 API 来提升用户体验。</p>
                           <p>并发渲染是 React 18 的核心特性，它允许 React 在渲染过程中中断和恢复工作，从而让应用保持响应。自动批处理则优化了状态更新的处理方式，减少了不必要的渲染。</p>
                           <p>Suspense 组件现在支持数据获取，可以让组件在数据加载完成前显示加载状态，提升用户体验。此外，React 18 还引入了新的 Hook 和 API，如
                              useId、useSyncExternalStore 等。</p>
                           <p>本文还将介绍如何从旧版本迁移到 React 18，以及需要注意的兼容性问题。通过实际案例演示，帮助您快速上手 React 18 的新特性。</p>
                        </div>
                        <div class="card-footer">
                           <button class="mobile-card-btn">阅读全文</button>
                        </div>
                     </div>
                  </article>

                  <!-- 文章卡片2 - 使用新的布局结构 -->
                  <article class="rectangle-card active" id="card2" role="article" aria-labelledby="card2Title">
                     <div class="vertical-title">Vue3</div>
                     <div class="card-content-expanded">
                        <div class="card-tags">
                           <span class="card-tag">前端</span>
                           <span class="card-tag">框架</span>
                           <span class="card-tag">Composition</span>
                        </div>
                        <div class="card-title-container">
                           <h2 id="card2Title">Vue 3 Composition API 实战</h2>
                        </div>
                        <div class="card-content-main">
                           <p>Vue 3 的 Composition API 彻底改变了组件开发方式，提供了更好的代码组织和复用能力。本文将结合实战项目，展示 Composition API 的强大功能。
                           </p>
                           <p>我们将从基础概念开始，逐步构建一个完整的应用，涵盖响应式、生命周期、自定义组合函数等核心内容。</p>
                           <p>Composition API 允许您将相关逻辑组织在一起，而不是按选项（data、methods、computed）分割。这使得代码更易于理解和维护，尤其是在处理复杂组件时。
                           </p>
                           <p>本文还将介绍如何使用 Vue 3 的新特性，如 Teleport、Fragments 和自定义渲染器。通过实际项目示例，展示如何构建现代化的 Vue 3 应用。</p>
                           <p>最后，我们将讨论 Composition API 与 Options API 的对比，以及何时选择哪种方式。同时提供性能优化建议和最佳实践。</p>
                        </div>
                        <div class="card-footer">
                           <button class="mobile-card-btn">阅读全文</button>
                        </div>
                     </div>
                  </article>

                  <!-- 文章卡片3 - 使用新的布局结构 -->
                  <article class="rectangle-card" id="card3" role="article" aria-labelledby="card3Title">
                     <div class="vertical-title">性能</div>
                     <div class="card-content-expanded">
                        <div class="card-tags">
                           <span class="card-tag">性能优化</span>
                           <span class="card-tag">浏览器</span>
                           <span class="card-tag">渲染</span>
                        </div>
                        <div class="card-title-container">
                           <h2 id="card3Title">现代浏览器渲染性能优化指南</h2>
                        </div>
                        <div class="card-content-main">
                           <p>深入了解浏览器渲染机制，从 DOM 操作、CSS 布局、合成层等多个维度优化应用性能。本文提供实用的性能优化技巧和工具使用方法。</p>
                           <p>通过学习本文，您将掌握如何分析性能瓶颈，使用 Performance API 和 DevTools 进行性能调试，以及应用最佳的优化实践。</p>
                           <p>浏览器渲染流程包括解析 HTML、构建 DOM 树、计算样式、布局、绘制和合成。理解每个阶段对性能的影响是关键。</p>
                           <p>本文将介绍如何避免强制同步布局、减少重绘和重排、优化 JavaScript 执行、使用 CSS 硬件加速等技术。同时提供代码示例和性能测试方法。</p>
                           <p>此外，我们还将探讨现代前端框架的性能优化策略，以及如何利用 Web Workers 和 Service Workers 提升应用性能。</p>
                        </div>
                        <div class="card-footer">
                           <button class="mobile-card-btn">阅读全文</button>
                        </div>
                     </div>
                  </article>

                  <!-- 文章卡片4 - 使用新的布局结构 -->
                  <article class="rectangle-card" id="card4" role="article" aria-labelledby="card4Title">
                     <div class="vertical-title">TypeScript</div>
                     <div class="card-content-expanded">
                        <div class="card-tags">
                           <span class="card-tag">类型安全</span>
                           <span class="card-tag">工具链</span>
                           <span class="card-tag">工程化</span>
                        </div>
                        <div class="card-title-container">
                           <h2 id="card4Title">TypeScript 高级类型系统解析</h2>
                        </div>
                        <div class="card-content-main">
                           <p>TypeScript 的类型系统提供了强大的类型安全保证，本文将深入探讨条件类型、映射类型、泛型约束等高级类型特性。</p>
                           <p>通过实际案例展示如何利用 TypeScript 的类型系统构建健壮的类型定义，提升代码的可维护性和开发效率。</p>
                           <p>条件类型允许您根据输入类型创建动态类型，映射类型可以基于现有类型创建新类型，而泛型约束则确保类型参数满足特定条件。</p>
                           <p>本文还将介绍 TypeScript 4.0+ 的新特性，如可变元组类型、模板字面量类型、标记的元组元素等。这些特性进一步增强了 TypeScript 的类型系统。</p>
                           <p>最后，我们将讨论如何在大型项目中使用 TypeScript，包括配置 tsconfig.json、使用第三方类型定义、以及集成到构建流程中。</p>
                        </div>
                        <div class="card-footer">
                           <button class="mobile-card-btn">阅读全文</button>
                        </div>
                     </div>
                  </article>

                  <!-- 文章卡片5 - 使用新的布局结构 -->
                  <article class="rectangle-card" id="card5" role="article" aria-labelledby="card5Title">
                     <div class="vertical-title">架构</div>
                     <div class="card-content-expanded">
                        <div class="card-tags">
                           <span class="card-tag">微前端</span>
                           <span class="card-tag">架构设计</span>
                           <span class="card-tag">模块化</span>
                        </div>
                        <div class="card-title-container">
                           <h2 id="card5Title">微前端架构在企业级应用中的实践</h2>
                        </div>
                        <div class="card-content-main">
                           <p>微前端架构正在成为大型前端应用的主流解决方案。本文将分享在实际项目中实施微前端的经验，包括技术选型、集成方案和部署策略。</p>
                           <p>我们将分析不同微前端框架的优缺点，并提供完整的实施路线图和最佳实践建议。</p>
                           <p>微前端允许团队独立开发、测试和部署前端应用的不同部分，从而提高开发效率和系统可维护性。本文将介绍多种微前端实现方案，包括 iframe、Web Components、Module
                              Federation 等。</p>
                           <p>我们还将讨论微前端架构中的常见挑战，如样式隔离、状态管理、路由协调、公共依赖等，并提供解决方案。通过实际案例展示如何构建可扩展的微前端架构。</p>
                           <p>最后，本文将介绍微前端的 DevOps 实践，包括持续集成/持续部署、监控和故障排除。帮助您在组织中成功实施微前端架构。</p>
                        </div>
                        <div class="card-footer">
                           <button class="mobile-card-btn">阅读全文</button>
                        </div>
                     </div>
                  </article>
               </div>
            </div>
         </div>

         <!-- 特殊卡片 - 使用新的布局结构 -->
         <section class="special-card" id="specialCard" aria-labelledby="specialCardTitle" aria-expanded="false">
            <div class="special-card-header">
               <h3 id="specialCardTitle" class="special-card-title">热门专题</h3>
               <div class="special-card-icon">
                  <i class="fas fa-chevron-down" aria-hidden="true"></i>
               </div>
            </div>
            <div class="special-card-content" id="specialCardContent">
               <div class="special-cards-container" id="specialCardsContainer">
                  <!-- 特殊卡片1 -->
                  <div class="special-card-item">
                     <div class="special-card-item-content">
                        <div class="card-tags">
                           <span class="card-tag">动画</span>
                           <span class="card-tag">性能</span>
                           <span class="card-tag">Canvas</span>
                        </div>
                        <h4>Web 动画性能优化全攻略</h4>
                        <div class="special-card-item-content-main">
                           <p>深入探讨 CSS 动画、Web Animations API 和 Canvas 动画的性能优化技巧，包括 GPU 加速、合成层优化和帧率控制。</p>
                           <p>通过实际案例演示如何在不同场景下选择最优的动画方案，确保流畅的视觉体验。</p>
                           <p>CSS 动画通过 transform 和 opacity 属性可以实现硬件加速，而不会触发重排和重绘。Web Animations API 提供了更精细的动画控制能力。</p>
                           <p>Canvas 动画适合复杂图形和游戏，但需要注意内存管理和帧率控制。本文将介绍如何使用 requestAnimationFrame 实现平滑的动画效果。</p>
                           <p>此外，我们还将讨论如何测量动画性能，使用 Chrome DevTools 分析动画瓶颈，以及跨浏览器兼容性问题的解决方案。</p>
                        </div>
                        <div class="special-card-item-footer">
                           <button class="special-card-btn">查看专题</button>
                        </div>
                     </div>
                  </div>
                  <!-- 特殊卡片2 -->
                  <div class="special-card-item">
                     <div class="special-card-item-content">
                        <div class="card-tags">
                           <span class="card-tag">安全</span>
                           <span class="card-tag">认证</span>
                           <span class="card-tag">加密</span>
                        </div>
                        <h4>现代 Web 应用安全最佳实践</h4>
                        <div class="special-card-item-content-main">
                           <p>全面介绍 Web 应用安全威胁和防御策略，涵盖 XSS、CSRF、JWT 安全、OAuth 2.0 等关键安全主题。</p>
                           <p>提供实用的安全工具和自动化安全检查流程，帮助构建更安全的 Web 应用。</p>
                           <p>XSS（跨站脚本）攻击是最常见的 Web 安全威胁之一，本文将介绍如何通过输入验证、输出编码和内容安全策略来防御。</p>
                           <p>CSRF（跨站请求伪造）攻击可以通过同源策略、CSRF Token 和 SameSite Cookie 属性来防范。JWT 安全需要注意令牌存储、过期时间和签名验证。</p>
                           <p>OAuth 2.0 是现代身份验证的标准协议，本文将介绍其流程、安全考虑和最佳实践。同时提供安全工具推荐和自动化安全检查方法。</p>
                        </div>
                        <div class="special-card-item-footer">
                           <button class="special-card-btn">查看专题</button>
                        </div>
                     </div>
                  </div>
                  <!-- 特殊卡片3 -->
                  <div class="special-card-item">
                     <div class="special-card-item-content">
                        <div class="card-tags">
                           <span class="card-tag">PWA</span>
                           <span class="card-tag">离线</span>
                           <span class="card-tag">Service Worker</span>
                        </div>
                        <h4>渐进式 Web 应用开发指南</h4>
                        <div class="special-card-item-content-main">
                           <p>手把手教您构建功能完整的 PWA 应用，包括 Service Worker 配置、离线缓存策略、推送通知和安装到主屏幕。</p>
                           <p>结合最新 Web 技术，提供最佳的用户体验和性能优化方案。</p>
                           <p>Service Worker 是 PWA 的核心技术，它允许您控制网络请求、缓存资源和实现离线功能。本文将详细介绍 Service Worker 的生命周期和缓存策略。</p>
                           <p>Web App Manifest 文件定义了应用的元数据，如名称、图标、主题颜色等，使用户能够将应用安装到主屏幕。推送通知可以重新吸引用户，提高用户参与度。</p>
                           <p>本文还将介绍 PWA 的性能优化技巧，如预缓存关键资源、按需缓存、缓存版本管理等。通过实际案例展示如何构建高性能的 PWA 应用。</p>
                        </div>
                        <div class="special-card-item-footer">
                           <button class="special-card-btn">查看专题</button>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </section>
      </div>
   </div>

   <script>
      document.addEventListener('DOMContentLoaded', function() {
            const mobileTopSection = document.getElementById('mobileTopSection');
            const titleToggle = document.getElementById('titleToggle');
            const menuBtn = document.getElementById('menuBtn');
            const floatingMenu = document.getElementById('floatingMenu');
            const closeMenu = document.getElementById('closeMenu');
            const darkModeToggle = document.getElementById('darkModeToggle');
            const specialCard = document.getElementById('specialCard');
            const specialCardContent = document.getElementById('specialCardContent');
            const specialCardHeader = document.querySelector('.special-card-header');
            const specialCardsContainer = document.getElementById('specialCardsContainer');
            const cardsWrapper = document.getElementById('mobileCardsWrapper');
            
            // 初始化状态
            mobileTopSection.classList.add('expanded');
            specialCard.classList.remove('expanded');
            
            // 防抖函数
            function debounce(func, wait) {
                let timeout;
                return function executedFunction(...args) {
                    const later = () => {
                        clearTimeout(timeout);
                        func(...args);
                    };
                    clearTimeout(timeout);
                    timeout = setTimeout(later, wait);
                };
            }
            
            // 预先计算特殊卡片内容高度
            let specialCardExpandedHeight = null;
            
            // 标题区域折叠/展开
            titleToggle.addEventListener('click', function() {
                mobileTopSection.classList.toggle('expanded');
                mobileTopSection.classList.toggle('collapsed');
            });
            
            // 特殊卡片展开/收起 - 只点击header部分
            specialCardHeader.addEventListener('click', function(e) {
                e.stopPropagation();
                const isExpanded = specialCard.classList.toggle('expanded');
                specialCard.setAttribute('aria-expanded', isExpanded);
                
                requestAnimationFrame(() => {
                    if (isExpanded) {
                        if (!specialCardExpandedHeight) {
                            const contentHeight = specialCardContent.scrollHeight;
                            const headerHeight = specialCardHeader.offsetHeight;
                            specialCardExpandedHeight = contentHeight + headerHeight + 20;
                        }
                        specialCardContent.style.maxHeight = specialCardExpandedHeight + 'px';
                    } else {
                        specialCardContent.style.maxHeight = '0';
                    }
                });
            });
            
            // 特殊卡片内部内容区域点击不触发折叠/展开
            specialCardContent.addEventListener('click', function(e) {
                e.stopPropagation();
            });
            
            // 菜单按钮点击
            menuBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                floatingMenu.classList.add('active');
                menuBtn.setAttribute('aria-expanded', 'true');
                floatingMenu.setAttribute('aria-hidden', 'false');
            });
            
            // 关闭菜单
            closeMenu.addEventListener('click', function() {
                floatingMenu.classList.remove('active');
                menuBtn.setAttribute('aria-expanded', 'false');
                floatingMenu.setAttribute('aria-hidden', 'true');
            });
            
            // 点击外部关闭菜单
            document.addEventListener('click', function(event) {
                if (!event.target.closest('#floatingMenu') && 
                    !event.target.closest('#menuBtn') &&
                    floatingMenu.classList.contains('active')) {
                    floatingMenu.classList.remove('active');
                    menuBtn.setAttribute('aria-expanded', 'false');
                    floatingMenu.setAttribute('aria-hidden', 'true');
                }
            });
            
            // 文章卡片点击切换 - 点击卡片背景切换，点击按钮不切换
            const rectangleCards = document.querySelectorAll('.rectangle-card');
            rectangleCards.forEach((card, index) => {
                card.addEventListener('click', function(event) {
                    // 如果点击的是按钮，则不切换卡片状态
                    if (event.target.closest('.mobile-card-btn')) {
                        return;
                    }
                    
                    this.classList.toggle('active');
                    
                    rectangleCards.forEach(r => {
                        if (r !== this) {
                            r.classList.remove('active');
                        }
                    });
                });
                
                if (index === 1) {
                    card.classList.add('active');
                }
            });
            
            // 为文章卡片按钮添加事件监听器
            const articleButtons = document.querySelectorAll('.mobile-card-btn');
            articleButtons.forEach(button => {
                button.addEventListener('click', function(event) {
                    event.stopPropagation();
                    alert('即将跳转到文章详情页面');
                });
            });
            
            // 为特殊卡片按钮添加事件监听器
            const specialCardButtons = document.querySelectorAll('.special-card-btn');
            specialCardButtons.forEach(button => {
                button.addEventListener('click', function(event) {
                    event.stopPropagation();
                    alert('即将跳转到专题详情页面');
                });
            });
            
            // 暗黑模式切换
            darkModeToggle.addEventListener('click', function() {
                const isLightMode = document.body.classList.toggle('dark-mode');
                document.body.classList.toggle('light-mode');
                
                const icon = this.querySelector('i');
                if (document.body.classList.contains('light-mode')) {
                    icon.classList.remove('fa-sun');
                    icon.classList.add('fa-moon');
                    darkModeToggle.innerHTML = '<i class="fas fa-moon" aria-hidden="true" style="margin-right: 10px;"></i>切换暗黑模式';
                    localStorage.setItem('theme', 'light');
                } else {
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                    darkModeToggle.innerHTML = '<i class="fas fa-sun" aria-hidden="true" style="margin-right: 10px;"></i>切换亮色模式';
                    localStorage.setItem('theme', 'dark');
                }
                
                floatingMenu.classList.remove('active');
                menuBtn.setAttribute('aria-expanded', 'false');
                floatingMenu.setAttribute('aria-hidden', 'true');
            });

            // 检查本地存储的主题设置
            if (localStorage.getItem('theme') === 'light') {
                document.body.classList.add('light-mode');
                document.body.classList.remove('dark-mode');
                const icon = darkModeToggle.querySelector('i');
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
                darkModeToggle.innerHTML = '<i class="fas fa-moon" aria-hidden="true" style="margin-right: 10px;"></i>切换暗黑模式';
            }
            
            // 优化滚动事件
            if (cardsWrapper) {
                let lastScrollTime = 0;
                const handleScroll = debounce(() => {
                    const now = Date.now();
                    if (now - lastScrollTime >= 16) {
                        lastScrollTime = now;
                    }
                }, 16);
                
                cardsWrapper.addEventListener('scroll', handleScroll, { passive: true });
            }
            
            // 特殊卡片滚动处理
            if (specialCardsContainer) {
                specialCardsContainer.addEventListener('wheel', function(e) {
                    e.stopPropagation();
                    this.scrollTop += e.deltaY;
                }, { passive: false });
            }

            // 键盘事件处理
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && floatingMenu.classList.contains('active')) {
                    floatingMenu.classList.remove('active');
                    menuBtn.setAttribute('aria-expanded', 'false');
                    floatingMenu.setAttribute('aria-hidden', 'true');
                }
                
                if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
                    const activeCard = document.querySelector('.rectangle-card.active');
                    if (activeCard) {
                        const cards = document.querySelectorAll('.rectangle-card');
                        const currentIndex = Array.from(cards).indexOf(activeCard);
                        let nextIndex;
                        
                        if (e.key === 'ArrowLeft') {
                            nextIndex = currentIndex > 0 ? currentIndex - 1 : cards.length - 1;
                        } else {
                            nextIndex = currentIndex < cards.length - 1 ? currentIndex + 1 : 0;
                        }
                        
                        cards.forEach(c => c.classList.remove('active'));
                        cards[nextIndex].classList.add('active');
                        cards[nextIndex].scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                    }
                }
            });
            
            // 计算特殊卡片展开后的高度
            function calculateSpecialCardHeight() {
                if (specialCardContent) {
                    const contentHeight = specialCardContent.scrollHeight;
                    const headerHeight = specialCardHeader.offsetHeight;
                    specialCardExpandedHeight = contentHeight + headerHeight + 20;
                }
            }
            
            // 延迟计算高度
            setTimeout(calculateSpecialCardHeight, 100);
            
            // 窗口大小变化时重新计算
            window.addEventListener('resize', debounce(calculateSpecialCardHeight, 250));
        });
   </script>
</body>

</html>
