<!DOCTYPE html>
<html lang="zh-CN">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta name="description" content="VaLog">
   <title>VaLog</title>
   <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style"
                                                                                                                           onload="this.onload=null;this.rel='stylesheet'">
   <noscript>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
   </noscript>
   <style>
      :root {
         --primary-color: #e74c3c;
         --dark-bg: #121212;
         --dark-card: #1e1e1e;
         --light-bg: #f5f7fa;
         --light-primary: #e74c3c;
         --transition-time: 0.3s;
      }

      * {
         margin: 0;
         padding: 0;
         box-sizing: border-box;
         font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Ubuntu, Cantarell, sans-serif;
      }

      html,
      body {
         height: 100%;
         background-color: var(--dark-bg);
         color: #ffffff;
         line-height: 1.6;
         transition: background-color var(--transition-time), color var(--transition-time);
      }

      .container {
         max-width: 1200px;
         margin: 0 auto;
         padding: 13px;
         height: 100%;
      }

      .mobile-layout {
         display: flex;
         flex-direction: column;
         height: 100%;
         overflow: hidden;
         position: relative;
      }

      .mobile-top-section {
         background-color: var(--dark-card);
         border-radius: 10px;
         margin-bottom: 5px;
         box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
         transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
         flex-shrink: 0;
         contain: layout style;
         will-change: height, padding;
         z-index: 10;
         position: relative;
      }

      .mobile-top-section.expanded {
         padding: 10px 15px 15px;
         max-height: 265px;
      }

      .mobile-top-section.collapsed {
         padding: 10px 15px 0px;
         min-height: 50px;
      }

      .mobile-top-bar {
         display: flex;
         align-items: center;
         justify-content: space-between;
         margin-bottom: 10px;
         min-height: 40px;
      }

      .avatar {
         width: 40px;
         height: 40px;
         border-radius: 50%;
         background-color: var(--primary-color);
         display: flex;
         align-items: center;
         justify-content: center;
         color: white;
         font-size: 18px;
         flex-shrink: 0;
         will-change: transform, background-color;
         transition: transform 0.2s ease-out, background-color var(--transition-time);
         contain: layout style;
      }

      .mobile-title-container {
         flex-grow: 1;
         text-align: center;
         cursor: pointer;
         padding: 0 15px;
         display: flex;
         align-items: center;
         justify-content: center;
         min-height: 40px;
      }

      .mobile-title {
         color: white;
         font-size: 18px;
         font-weight: 600;
         transition: all var(--transition-time) ease;
      }

      .menu-btn {
         width: 36px;
         height: 36px;
         border-radius: 50%;
         background-color: transparent;
         display: flex;
         align-items: center;
         justify-content: center;
         color: white;
         font-size: 18px;
         cursor: pointer;
         flex-shrink: 0;
         border: none;
         outline: none;
         will-change: transform, background-color;
         transition: transform 0.2s ease-out, background-color var(--transition-time);
         contain: layout style;
         z-index: 1002;
         position: relative;
      }

      .mobile-top-card {
         background-color: var(--dark-card);
         border-radius: 8px;
         padding: 20px;
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
         transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
         max-height: 190px;
         overflow: hidden;
         color: white;
         will-change: max-height, opacity, transform;
         contain: layout style;
         overflow-y: auto;
         scrollbar-width: none;
         -ms-overflow-style: none;
      }

      .mobile-top-section.collapsed .mobile-top-card {
         max-height: 0;
         padding: 0;
         margin: 0;
         opacity: 0;
         transform: translateY(-10px);
      }

      .floating-menu {
         position: fixed;
         top: 70px;
         right: 15px;
         background-color: var(--dark-card);
         border-radius: 8px;
         padding: 15px;
         box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4);
         z-index: 100;
         display: none;
         width: calc(100% - 30px);
         max-width: 300px;
         color: white;
         will-change: opacity, transform;
         transition: opacity 0.25s ease-out, transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
         contain: layout style;
         transform-origin: top right;
         border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .floating-menu.active {
         display: block;
         animation: menuAppear 0.25s cubic-bezier(0.4, 0, 0.2, 1) forwards;
         opacity: 0;
         transform: scale(0.9);
      }

      @keyframes menuAppear {
         to {
            opacity: 1;
            transform: scale(1);
         }
      }

      .close-menu {
         position: absolute;
         top: 10px;
         right: 10px;
         color: var(--primary-color);
         font-size: 20px;
         cursor: pointer;
         background: none;
         border: none;
         will-change: transform;
         transition: transform 0.2s ease-out;
         contain: layout style;
         z-index: 1001;
      }

      .menu-items {
         margin-top: 30px;
      }

      .menu-item {
         padding: 10px 0;
         border-bottom: 1px solid #333;
         font-size: 16px;
         cursor: pointer;
         color: white;
         transition: color 0.2s ease-out, transform 0.2s ease-out;
         will-change: color, transform;
         contain: layout style;
      }

      .menu-item:hover {
         color: var(--primary-color);
         transform: translateX(5px);
      }

      .article-list-section {
         flex: 1 1 0;
         min-height: 0;
         display: flex;
         flex-direction: column;
         overflow: hidden;
         will-change: transform;
         contain: layout style;
         z-index: 1;
         position: relative;
      }

      .mobile-cards-container {
         flex: 1;
         display: flex;
         flex-direction: column;
         min-height: 0;
         overflow: hidden;
      }

      .mobile-cards-wrapper {
         flex: 1;
         display: flex;
         gap: 15px;
         padding: 10px 5px 15px;
         overflow-x: auto;
         overflow-y: hidden;
         -ms-overflow-style: none;
         scrollbar-width: none;
         will-change: transform;
         backface-visibility: hidden;
         -webkit-backface-visibility: hidden;
         transform: translateZ(0);
         -webkit-transform: translateZ(0);
         contain: layout style paint;
         z-index: 1;
      }

      .mobile-cards-wrapper::-webkit-scrollbar {
         display: none;
      }

      .rectangle-card {
         min-width: 82px;
         height: 100%;
         border-radius: 10px;
         cursor: pointer;
         transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
         position: relative;
         overflow: hidden;
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
         flex-shrink: 0;
         will-change: transform, min-width;
         contain: layout style;
         background: linear-gradient(135deg, var(--primary-color), #c0392b);
         z-index: 1;
      }

      .rectangle-card.active {
         min-width: 279px;
         background: linear-gradient(135deg, #c0392b, #a93226);
         z-index: 2;
      }

      .vertical-title {
         position: absolute;
         top: 20px;
         left: 13px;
         color: white;
         font-size: 18px;
         font-weight: bold;
         writing-mode: vertical-rl;
         text-orientation: mixed;
         transform: rotate(0deg);
         transition: opacity var(--transition-time) ease;
         text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
      }

      .rectangle-card.active .vertical-title {
         opacity: 0;
      }

      .card-content-expanded {
         position: absolute;
         top: 0;
         left: 0;
         width: 279px;
         height: 100%;
         padding: 15px;
         color: white;
         opacity: 0;
         transition: opacity var(--transition-time) ease 0.2s;
         display: flex;
         flex-direction: column;
         overflow: hidden;
      }

      .rectangle-card.active .card-content-expanded {
         opacity: 1;
      }

      .card-tags {
         display: flex;
         gap: 8px;
         margin-bottom: 10px;
         flex-shrink: 0;
         flex-wrap: wrap;
      }

      .card-tag {
         background-color: rgba(255, 255, 255, 0.1);
         color: white;
         padding: 4px 8px;
         border-radius: 4px;
         font-size: 12px;
         font-weight: 500;
         will-change: transform, background-color;
         transition: transform 0.2s ease-out, background-color 0.2s ease-out;
         contain: layout style;
         width: auto;
         white-space: nowrap;
      }

      /* 日期标签样式 */
      .date-tag {
         font-weight: 500;
         padding-left: 6px;
      }

      .card-title-container {
         flex-shrink: 0;
         margin-bottom: 10px;
      }

      .card-title-container h2 {
         font-size: 22px;
         font-weight: 600;
         color: white;
         margin: 0;
         will-change: transform;
         transition: transform 0.2s ease-out;
         contain: layout style;
      }

      .card-content-main {
         flex: 1;
         overflow-y: auto;
         scrollbar-width: none;
         -ms-overflow-style: none;
         margin-bottom: 10px;
         padding-right: 5px;
      }

      .card-content-main::-webkit-scrollbar {
         display: none;
      }

      .card-content-main p {
         font-size: 14px;
         line-height: 1.5;
         margin-bottom: 10px;
         opacity: 0.9;
         color: white;
      }

      .card-footer {
         flex-shrink: 0;
         padding-top: 10px;
         display: flex;
         justify-content: flex-end;
      }

      .mobile-card-btn {
         background-color: rgba(255, 255, 255, 0.2);
         color: white;
         border: none;
         padding: 8px 16px;
         border-radius: 5px;
         cursor: pointer;
         font-weight: 500;
         font-size: 14px;
         transition: background-color 0.2s ease-out, transform 0.2s ease-out;
         will-change: transform, background-color;
         contain: layout style;
      }

      .special-card {
         background: linear-gradient(135deg, var(--primary-color), #c0392b);
         color: white;
         border-radius: 10px;
         padding: 15px;
         box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
         cursor: pointer;
         transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
         overflow: hidden;
         flex-shrink: 0;
         will-change: transform, background;
         contain: layout style;
         z-index: 1;
         position: relative;
      }

      .special-card-header {
         display: flex;
         justify-content: space-between;
         align-items: center;
         margin-bottom: 0;
         padding: 0;
         cursor: pointer;
         user-select: none;
         -webkit-user-select: none;
         -moz-user-select: none;
         -ms-user-select: none;
         will-change: transform;
         transition: transform 0.2s ease-out;
         contain: layout style;
      }

      .special-card-title {
         font-size: 18px;
         font-weight: 600;
         color: white;
         margin: 0;
         pointer-events: none;
         will-change: transform;
         transition: transform 0.2s ease-out;
         contain: layout style;
      }

      .special-card-icon {
         transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
         pointer-events: none;
         will-change: transform;
         contain: layout style;
      }

      .special-card.expanded .special-card-icon {
         transform: rotate(180deg);
      }

      .special-card-content {
         max-height: 0;
         opacity: 0;
         overflow: hidden;
         transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
         will-change: max-height, opacity, margin, padding;
         contain: layout style;
         padding-top: 0;
         margin-top: 0;
         transform-origin: top;
      }

      .special-card.expanded .special-card-content {
         max-height: 320px;
         opacity: 1;
         margin-top: 10px;
      }

      .special-cards-container {
         display: flex;
         flex-direction: column;
         gap: 15px;
         height: auto;
         max-height: 194px;
         overflow-y: auto;
         scrollbar-width: none;
         -ms-overflow-style: none;
         will-change: transform;
         padding-right: 0px;
      }

      .special-cards-container::-webkit-scrollbar {
         display: none;
      }

      .special-card-item {
         background-color: rgba(255, 255, 255, 0.1);
         border-radius: 8px;
         padding: 15px;
         box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
         display: flex;
         flex-direction: column;
         flex-shrink: 0;
         height: 187px;
         overflow: hidden;
         cursor: auto;
         will-change: transform, opacity;
         transition: transform 0.2s ease-out, opacity 0.2s ease-out;
         contain: layout style;
      }

      .special-card-item-content {
         display: flex;
         flex-direction: column;
         height: 100%;
         overflow: hidden;
      }

      .special-card-item .card-tags {
         margin-bottom: 8px;
      }

      .special-card-item h4 {
         font-size: 16px;
         font-weight: 600;
         margin-bottom: 8px;
         color: white;
         flex-shrink: 0;
         will-change: transform;
         transition: transform 0.2s ease-out;
         contain: layout style;
      }

      .special-card-item-content-main {
         flex: 1;
         overflow-y: auto;
         scrollbar-width: none;
         -ms-overflow-style: none;
         margin-bottom: 8px;
         padding-right: 5px;
      }

      .special-card-item-content-main::-webkit-scrollbar {
         display: none;
      }

      .special-card-item-content-main p {
         font-size: 14px;
         line-height: 1.5;
         margin-bottom: 8px;
         opacity: 0.9;
         color: white;
      }

      .special-card-item-footer {
         flex-shrink: 0;
         padding-top: 8px;
         display: flex;
         justify-content: flex-end;
      }

      .special-card-btn {
         background-color: rgba(255, 255, 255, 0.2);
         color: white;
         border: none;
         padding: 8px 16px;
         border-radius: 5px;
         cursor: pointer;
         font-weight: 500;
         font-size: 14px;
         transition: background-color 0.2s ease-out, transform 0.2s ease-out;
         will-change: transform, background-color;
         contain: layout style;
      }

      .light-mode {
         background-color: var(--light-bg);
         color: white;
      }

      .light-mode .mobile-top-section {
         background-color: var(--light-primary);
      }

      .light-mode .mobile-top-card {
         background-color: white;
         color: gray;
      }

      .light-mode .mobile-top-card h2 {
         color: #cdcdcd;
      }

      .light-mode .floating-menu {
         background-color: white;
         color: gray;
      }

      .light-mode .menu-item {
         border-bottom-color: #eee;
         color: gray;
      }

      .light-mode .menu-item:hover {
         color: var(--light-primary);
      }

      .light-mode .rectangle-card:nth-child(5n+1) {
         background: linear-gradient(135deg, #ffb6c1, #ff69b4);
      }

      .light-mode .rectangle-card:nth-child(5n+1).active {
         background: linear-gradient(135deg, #ff69b4, #ff1493);
      }

      .light-mode .rectangle-card:nth-child(5n+2) {
         background: linear-gradient(135deg, #98fb98, #90ee90);
      }

      .light-mode .rectangle-card:nth-child(5n+2).active {
         background: linear-gradient(135deg, #90ee90, #7cfc00);
      }

      .light-mode .rectangle-card:nth-child(5n+3) {
         background: linear-gradient(135deg, #add8e6, #87ceeb);
      }

      .light-mode .rectangle-card:nth-child(5n+3).active {
         background: linear-gradient(135deg, #87ceeb, #6495ed);
      }

      .light-mode .rectangle-card:nth-child(5n+4) {
         background: linear-gradient(135deg, #fffacd, #f0e68c);
      }

      .light-mode .rectangle-card:nth-child(5n+4).active {
         background: linear-gradient(135deg, #f0e68c, #ffd700);
      }

      .light-mode .rectangle-card:nth-child(5n) {
         background: linear-gradient(135deg, #d3d3d3, #c0c0c0);
      }

      .light-mode .rectangle-card:nth-child(5n).active {
         background: linear-gradient(135deg, #c0c0c0, #a9a9a9);
      }

      .light-mode .special-card {
         background: linear-gradient(135deg, #e6e6fa, #d8bfd8);
      }

      .light-mode .special-card.expanded {
         background: linear-gradient(135deg, #d8bfd8, #dda0dd);
      }

      .light-mode .special-card-item {
         background-color: rgba(255, 255, 255, 0.2);
      }

      .light-mode .special-card-item h4 {
         color: white;
      }

      .light-mode .card-tag {
         background-color: rgba(0, 0, 0, 0.1);
         color: white;
      }

      .light-mode .date-tag {
         background-color: rgba(0, 0, 0, 0.15) !important;
         border-left-color: var(--light-primary);
      }

      .light-mode .vertical-title {
         color: white;
         text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
      }

      .light-mode .rectangle-card.active .card-content-expanded h2 {
         color: white;
      }

      .light-mode .special-card-title {
         color: white;
      }

      .light-mode .floating-menu {
         box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
         border: 1px solid rgba(0, 0, 0, 0.1);
      }

      /* 动画优化 */
      .menu-btn:active,
      .close-menu:active,
      .mobile-card-btn:active,
      .special-card-btn:active {
         transform: scale(0.95);
      }

      .card-tag:hover {
         transform: translateY(-1px);
         background-color: rgba(255, 255, 255, 0.2);
      }

      .card-title-container h2:hover {
         transform: translateX(2px);
      }

      .special-card-item:hover {
         transform: translateY(-2px);
         opacity: 0.95;
      }

      .special-card-title:hover {
         transform: translateX(2px);
      }

      /* 优化展开收起动画性能 */
      .mobile-top-section,
      .mobile-top-card,
      .special-card,
      .special-card-content,
      .rectangle-card {
         backface-visibility: hidden;
         -webkit-backface-visibility: hidden;
         perspective: 1000;
         -webkit-perspective: 1000;
      }

      /* 平滑滚动优化 */
      .mobile-cards-wrapper,
      .special-cards-container,
      .card-content-main,
      .special-card-item-content-main {
         scroll-behavior: smooth;
         -webkit-overflow-scrolling: touch;
      }
   </style>
</head>

<body class="dark-mode">
   <div class="container">
      <div class="mobile-layout">
         <div class="mobile-top-section expanded" id="mobileTopSection">
            <div class="mobile-top-bar">
               <div class="avatar" role="img" aria-label="Img">
                  <img src="avatar.png" alt="avatar" style="width:100%;height:100%;border-radius:50%;object-fit:cover;">
               </div>
               <div class="mobile-title-container" id="titleToggle" tabindex="0" role="button" aria-label="收起标题">
                  <div class="mobile-title">Ae1autumn</div>
               </div>
               <button class="menu-btn" id="menuBtn" aria-label="浮动菜单" aria-expanded="false"
                                                                                                                                       aria-controls="floatingMenu">
                  <i class="fas fa-bars" aria-hidden="true"></i>
               </button>
            </div>
            <div class="mobile-top-card">
               <h2>Welcome</h2>
               <p>Introduction</p>

            </div>

            <div class="floating-menu" id="floatingMenu" role="menu" aria-hidden="true">
               <button class="close-menu" id="closeMenu" aria-label="关闭">
                  <i class="fas fa-times" aria-hidden="true"></i>
               </button>
               <div class="menu-items">
                  <div class="menu-item" role="menuitem" tabindex="0">Contact</div>
                  <div class="menu-item" role="menuitem" tabindex="0">About</div>
                  <div class="menu-item" id="darkModeToggle" role="menuitem" tabindex="0">
                     <i class="fas fa-sun" aria-hidden="true" style="margin-right: 10px;"></i>日间模式
                  </div>
               </div>
            </div>
         </div>

         <div class="article-list-section" id="articleListSection">
            <div class="mobile-cards-container">
               <div class="mobile-cards-wrapper" id="mobileCardsWrapper">
                  <!-- 文章卡片将通过JavaScript动态生成 -->
               </div>
            </div>
         </div>

         <section class="special-card" id="specialCard" aria-labelledby="specialCardTitle" aria-expanded="false">
            <div class="special-card-header">
               <h3 id="specialCardTitle" class="special-card-title">special</h3>
               <div class="special-card-icon">
                  <i class="fas fa-chevron-down" aria-hidden="true"></i>
               </div>
            </div>
            <div class="special-card-content" id="specialCardContent">
               <div class="special-cards-container" id="specialCardsContainer">
                  <!-- Special卡片将通过JavaScript动态生成 -->
               </div>
            </div>
         </section>
      </div>
   </div>

   <script>
      // 数据存储位置：JavaScript对象中统一管理
      const blogData = {
         // 文章列表数据
         articles: [
            {
               id: 'article-1',
               title: 'article-title',
               tags: ['tag1', 'tag2', 'tag3', 'tag4'],
               verticalTitle: 'view-title',
               date: '2023-10-15',
               content: [
                  'P1',
                  'P2'
               ],
               url: 'https://example.com/',
               gradient: ['#e74c3c', '#c0392b']
            },
            {
               id: 'article-2',
               title: 'article-title',
               tags: ['tag1', 'tag2', 'tag3', 'tag4'],
               verticalTitle: 'view-title',
               date: '2023-11-20',
               content: [
                  'P1',
                  'P2'
               ],
               url: 'https://example.com/',
               gradient: ['#e74c3c', '#c0392b']
            },
         ],
         
         // Special列表数据
         specials: [
            {
               id: 'special-1',
               title: 'article-title',
               tags: ['tag1', 'tag2', 'tag3'],
               content: [
               'P1',
               'P2'
               ],
               url: 'https://example.com/',
               gradient: ['#e74c3c', '#c0392b']
            },
         ],
      };
      
      document.addEventListener('DOMContentLoaded', function() {
            const mobileTopSection = document.getElementById('mobileTopSection');
            const titleToggle = document.getElementById('titleToggle');
            const menuBtn = document.getElementById('menuBtn');
            const floatingMenu = document.getElementById('floatingMenu');
            const closeMenu = document.getElementById('closeMenu');
            const darkModeToggle = document.getElementById('darkModeToggle');
            const specialCard = document.getElementById('specialCard');
            const specialCardContent = document.getElementById('specialCardContent');
            const specialCardHeader = document.querySelector('.special-card-header');
            const specialCardsContainer = document.getElementById('specialCardsContainer');
            const cardsWrapper = document.getElementById('mobileCardsWrapper');
            
            // 初始化状态
            mobileTopSection.classList.add('expanded');
            specialCard.classList.remove('expanded');
            
            // 防抖函数
            function debounce(func, wait) {
                let timeout;
                return function executedFunction(...args) {
                    const later = () => {
                        clearTimeout(timeout);
                        func(...args);
                    };
                    clearTimeout(timeout);
                    timeout = setTimeout(later, wait);
                };
            }
            
            // 动态生成文章卡片
            function generateArticleCards() {
               cardsWrapper.innerHTML = '';
               
               blogData.articles.forEach((article, index) => {
                  const card = document.createElement('article');
                  card.className = 'rectangle-card';
                  card.id = `card${index + 1}`;
                  card.setAttribute('role', 'article');
                  card.setAttribute('aria-labelledby', `card${index + 1}Title`);
                  
                  const verticalTitle = document.createElement('div');
                  verticalTitle.className = 'vertical-title';
                  verticalTitle.textContent = article.verticalTitle || article.tags[0];
                  
                  const expandedContent = document.createElement('div');
                  expandedContent.className = 'card-content-expanded';
                  
                  const tagsContainer = document.createElement('div');
                  tagsContainer.className = 'card-tags';
                  
                  // 添加日期标签
                  if (article.date) {
                     const dateTag = document.createElement('span');
                     dateTag.className = 'card-tag date-tag';
                     dateTag.textContent = article.date;
                     tagsContainer.appendChild(dateTag);
                  }
                  
                  // 添加其他标签
                  article.tags.forEach(tag => {
                     const tagSpan = document.createElement('span');
                     tagSpan.className = 'card-tag';
                     tagSpan.textContent = tag;
                     tagsContainer.appendChild(tagSpan);
                  });
                  
                  const titleContainer = document.createElement('div');
                  titleContainer.className = 'card-title-container';
                  const title = document.createElement('h2');
                  title.id = `card${index + 1}Title`;
                  title.textContent = article.title;
                  titleContainer.appendChild(title);
                  
                  const contentMain = document.createElement('div');
                  contentMain.className = 'card-content-main';
                  
                  article.content.forEach(paragraph => {
                     const p = document.createElement('p');
                     p.textContent = paragraph;
                     contentMain.appendChild(p);
                  });
                  
                  const footer = document.createElement('div');
                  footer.className = 'card-footer';
                  const button = document.createElement('button');
                  button.className = 'mobile-card-btn';
                  button.textContent = 'Read';
                  button.addEventListener('click', function(event) {
                     event.stopPropagation();
                     window.open(article.url, '_blank');
                  });
                  footer.appendChild(button);
                  
                  expandedContent.appendChild(tagsContainer);
                  expandedContent.appendChild(titleContainer);
                  expandedContent.appendChild(contentMain);
                  expandedContent.appendChild(footer);
                  
                  card.appendChild(verticalTitle);
                  card.appendChild(expandedContent);
                  
                  // 设置默认激活第二个卡片
                  if (index === 1) {
                     card.classList.add('active');
                  }
                  
                  // 添加点击事件
                  card.addEventListener('click', function(event) {
                     if (event.target.closest('.mobile-card-btn')) {
                        return;
                     }
                     
                     this.classList.toggle('active');
                     
                     document.querySelectorAll('.rectangle-card').forEach(r => {
                        if (r !== this) {
                           r.classList.remove('active');
                        }
                     });
                  });
                  
                  cardsWrapper.appendChild(card);
               });
            }
            
            // 动态生成special卡片
            function generateSpecialCards() {
               specialCardsContainer.innerHTML = '';
               
               blogData.specials.forEach((special, index) => {
                  const cardItem = document.createElement('div');
                  cardItem.className = 'special-card-item';
                  
                  const content = document.createElement('div');
                  content.className = 'special-card-item-content';
                  
                  const tagsContainer = document.createElement('div');
                  tagsContainer.className = 'card-tags';
                  
                  // 为special卡片添加日期
                  if (special.date) {
                     const dateTag = document.createElement('span');
                     dateTag.className = 'card-tag date-tag';
                     dateTag.textContent = special.date;
                     tagsContainer.appendChild(dateTag);
                  }
                  
                  special.tags.forEach(tag => {
                     const tagSpan = document.createElement('span');
                     tagSpan.className = 'card-tag';
                     tagSpan.textContent = tag;
                     tagsContainer.appendChild(tagSpan);
                  });
                  
                  const title = document.createElement('h4');
                  title.textContent = special.title;
                  
                  const contentMain = document.createElement('div');
                  contentMain.className = 'special-card-item-content-main';
                  
                  special.content.forEach(paragraph => {
                     const p = document.createElement('p');
                     p.textContent = paragraph;
                     contentMain.appendChild(p);
                  });
                  
                  const footer = document.createElement('div');
                  footer.className = 'special-card-item-footer';
                  const button = document.createElement('button');
                  button.className = 'special-card-btn';
                  button.textContent = 'Visit';
                  button.addEventListener('click', function() {
                     window.open(special.url, '_blank');
                  });
                  footer.appendChild(button);
                  
                  content.appendChild(tagsContainer);
                  content.appendChild(title);
                  content.appendChild(contentMain);
                  content.appendChild(footer);
                  
                  cardItem.appendChild(content);
                  specialCardsContainer.appendChild(cardItem);
               });
            }
            
            // 初始化卡片
            generateArticleCards();
            generateSpecialCards();
            
            // 优化顶部区域展开/收起动画
            titleToggle.addEventListener('click', function() {
                mobileTopSection.style.willChange = 'height, padding';
                
                requestAnimationFrame(() => {
                    mobileTopSection.classList.toggle('expanded');
                    mobileTopSection.classList.toggle('collapsed');
                    
                    setTimeout(() => {
                        mobileTopSection.style.willChange = 'auto';
                    }, 400);
                });
            });
            
            // 优化特殊卡片展开/收起动画
            specialCardHeader.addEventListener('click', function(e) {
                e.stopPropagation();
                
                specialCardContent.style.willChange = 'max-height';
                specialCard.style.willChange = 'background';
                
                const isExpanding = !specialCard.classList.contains('expanded');
                
                requestAnimationFrame(() => {
                    specialCard.classList.toggle('expanded');
                    specialCard.setAttribute('aria-expanded', specialCard.classList.contains('expanded'));
                    
                    if (isExpanding) {
                        specialCardContent.style.maxHeight = `${specialCardContent.scrollHeight}px`;
                    } else {
                        specialCardContent.style.maxHeight = '0';
                    }
                    
                    setTimeout(() => {
                        specialCardContent.style.willChange = 'auto';
                        specialCard.style.willChange = 'auto';
                    }, 350);
                });
            });
            
            // 特殊卡片内部内容区域点击不触发折叠/展开
            specialCardContent.addEventListener('click', function(e) {
                e.stopPropagation();
            });
            
            // 优化菜单动画
            menuBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                floatingMenu.style.willChange = 'opacity, transform';
                
                requestAnimationFrame(() => {
                    floatingMenu.classList.add('active');
                    menuBtn.setAttribute('aria-expanded', 'true');
                    floatingMenu.setAttribute('aria-hidden', 'false');
                    
                    setTimeout(() => {
                        floatingMenu.style.willChange = 'auto';
                    }, 300);
                });
            });
            
            // 优化关闭菜单动画
            closeMenu.addEventListener('click', function() {
                floatingMenu.style.willChange = 'opacity, transform';
                
                requestAnimationFrame(() => {
                    floatingMenu.classList.remove('active');
                    menuBtn.setAttribute('aria-expanded', 'false');
                    floatingMenu.setAttribute('aria-hidden', 'true');
                    
                    setTimeout(() => {
                        floatingMenu.style.willChange = 'auto';
                    }, 300);
                });
            });
            
            // 点击外部关闭菜单
            document.addEventListener('click', function(event) {
                if (!event.target.closest('#floatingMenu') && 
                    !event.target.closest('#menuBtn') &&
                    floatingMenu.classList.contains('active')) {
                    
                    floatingMenu.style.willChange = 'opacity, transform';
                    
                    requestAnimationFrame(() => {
                        floatingMenu.classList.remove('active');
                        menuBtn.setAttribute('aria-expanded', 'false');
                        floatingMenu.setAttribute('aria-hidden', 'true');
                        
                        setTimeout(() => {
                            floatingMenu.style.willChange = 'auto';
                        }, 300);
                    });
                }
            });
            
            // 夜间模式切换
            darkModeToggle.addEventListener('click', function() {
                const isLightMode = document.body.classList.toggle('dark-mode');
                document.body.classList.toggle('light-mode');
                
                const icon = this.querySelector('i');
                if (document.body.classList.contains('light-mode')) {
                    icon.classList.remove('fa-sun');
                    icon.classList.add('fa-moon');
                    darkModeToggle.innerHTML = '<i class="fas fa-moon" aria-hidden="true" style="margin-right: 10px;"></i>夜间模式';
                    localStorage.setItem('theme', 'light');
                } else {
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                    darkModeToggle.innerHTML = '<i class="fas fa-sun" aria-hidden="true" style="margin-right: 10px;"></i>日间模式';
                    localStorage.setItem('theme', 'dark');
                }
                
                floatingMenu.style.willChange = 'opacity, transform';
                
                requestAnimationFrame(() => {
                    floatingMenu.classList.remove('active');
                    menuBtn.setAttribute('aria-expanded', 'false');
                    floatingMenu.setAttribute('aria-hidden', 'true');
                    
                    setTimeout(() => {
                        floatingMenu.style.willChange = 'auto';
                    }, 300);
                });
            });

            // 检查本地存储的主题设置
            if (localStorage.getItem('theme') === 'light') {
                document.body.classList.add('light-mode');
                document.body.classList.remove('dark-mode');
                const icon = darkModeToggle.querySelector('i');
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
                darkModeToggle.innerHTML = '<i class="fas fa-moon" aria-hidden="true" style="margin-right: 10px;"></i>夜间模式';
            }
            
            // 优化滚动事件
            if (cardsWrapper) {
                let lastScrollTime = 0;
                const handleScroll = debounce(() => {
                    const now = Date.now();
                    if (now - lastScrollTime >= 16) {
                        lastScrollTime = now;
                    }
                }, 16);
                
                cardsWrapper.addEventListener('scroll', handleScroll, { passive: true });
            }
            
            // 特殊卡片滚动处理
            if (specialCardsContainer) {
                specialCardsContainer.addEventListener('wheel', function(e) {
                    e.stopPropagation();
                    this.scrollTop += e.deltaY;
                }, { passive: false });
            }

            // 键盘事件处理
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && floatingMenu.classList.contains('active')) {
                    floatingMenu.style.willChange = 'opacity, transform';
                    
                    requestAnimationFrame(() => {
                        floatingMenu.classList.remove('active');
                        menuBtn.setAttribute('aria-expanded', 'false');
                        floatingMenu.setAttribute('aria-hidden', 'true');
                        
                        setTimeout(() => {
                            floatingMenu.style.willChange = 'auto';
                        }, 300);
                    });
                }
                
                if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
                    const activeCard = document.querySelector('.rectangle-card.active');
                    if (activeCard) {
                        const cards = document.querySelectorAll('.rectangle-card');
                        const currentIndex = Array.from(cards).indexOf(activeCard);
                        let nextIndex;
                        
                        if (e.key === 'ArrowLeft') {
                            nextIndex = currentIndex > 0 ? currentIndex - 1 : cards.length - 1;
                        } else {
                            nextIndex = currentIndex < cards.length - 1 ? currentIndex + 1 : 0;
                        }
                        
                        cards.forEach(c => c.classList.remove('active'));
                        cards[nextIndex].classList.add('active');
                        cards[nextIndex].scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                    }
                }
            });
            
            // 添加悬停效果优化
            const interactiveElements = document.querySelectorAll('.menu-btn, .close-menu, .mobile-card-btn, .special-card-btn, .card-tag, .menu-item');
            interactiveElements.forEach(element => {
                element.addEventListener('mouseenter', function() {
                    this.style.willChange = 'transform, background-color';
                });
                
                element.addEventListener('mouseleave', function() {
                    setTimeout(() => {
                        this.style.willChange = 'auto';
                    }, 200);
                });
            });
        });
   </script>
</body>

</html>